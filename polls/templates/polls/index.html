{% extends "polls/layout.html" %}

{% load static %}

{% block title %}
    Housewarming
{% endblock %}

{% block body %}

<div class="carousel flex flex-col">
    <div class="carousel-nav"></div>

    <div id="housepass" class="housepass_container flex flex-col hidden">
        <div class="housepass_main-content flex">
            <div class="housepass_img-container flex">
                <img class="housepass_img" src="{% static 'polls/images/profile_default.jpg' %}">
            </div>
            <div class="housepass_info-container flex flex-col">
                <div class="housepass_info-header flex">House Pass</div>
                <div class="housepass_info-access flex">GUEST</div>
                <div class="housepass_info-badge-container">
                    <div class="housepass_badge">
                        <img id="drink-badge" class="housepass_badg" src="{% static 'polls/images/question.svg' %}">
                    </div>
                    <div class="housepass_badge">
                         <img id="animal-badge" class="housepass_badg" src="{% static 'polls/images/question.svg' %}">
                    </div>
                    <div class="housepass_badge">
                         <img id="hottub-badge" class="housepass_badg" src="{% static 'polls/images/question.svg' %}">
                    </div>
                    <div class="housepass_badge">
                         <img id="guest-badge" class="housepass_badg" src="{% static 'polls/images/question.svg' %}">
                    </div>
                    <div class="housepass_badge">
                         <img id="keg-badge" class="housepass_badg" src="{% static 'polls/images/question.svg' %}">
                    </div>                     
                    <div class="housepass_badge">
                         <img id="sleep-badge" class="housepass_badg" src="{% static 'polls/images/question.svg' %}">
                    </div>
                </div>
            </div>
        </div>
        <div class="housepass_footer flex">
            <span id="housepass_name">
                <span id="hp_first">First</span>
                "<span id="hp_alias">ALIAS</span>"
                <span id="hp_last">Last</span>
            </span>
        </div>
    </div>

    <div class="carousel-track-container">
        <div class="carousel-track">
            <div class="poll-container current-slide flex flex-col">
                <div class='poll-title'>44 Mitchell Ave, Whitby</div>
                <div class="poll-subtitle">Housewarming Soir√©e</div>
                <div class="poll-img-container round">
                    <img id="intro-img" src="{% static 'polls/images/house.jpg' %}">
                </div>
                <div class="poll-text"></div>
                <div class="btn-container">
                    <button class="btn btn-start btn-primary">Get Started</button>
                </div>    
            </div>

            <div class="poll-container">
                <div class="poll-question-title">Congratulations</div>
                <div class='poll-question'>You're invited to The Dirty Durham to help break in the new pad.  Farms? Shrubbery? FREE PARKING?? Yes, Brooklin has it all. Truly putting the "Greater" in Greater Toronto Area.<br><br>You've been assigned a House Pass for the event, above. Please answer a few questions to personalize it...</div>
                <div class="btn-container">
                    <button class="btn btn-prev btn-warning">Previous</button>
                    <button class="btn btn-next btn-primary">Next</button>
                </div>    
            </div>

            <div class="poll-container">
                <div class="poll-question-title">QUESTION 1</div>
                <div class='poll-question'>Let's start with some basic info...
                    <div class="poll-choice-container flex flex-col">
                        <div class="input-container">
                            <label for="first_name">First Name:</label>
                            <input id="first_name" type="text" name="first_name" placeholder="Your real first name">
                        </div>
                        <div class="input-container">
                            <label for="last_name">Last Name:</label>
                            <input id="last_name" type="text" name="last_name" placeholder="Your real last name">
                        </div>
                        <div class="input-container">
                            <label for="alias">Alias:</label>
                            <input id="alias" type="text" name="alias" placeholder="Your street name">
                        </div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-prev btn-warning">Previous</button>
                        <button class="btn btn-next btn-primary">Next</button>
                    </div>
                </div>
            </div>

            <div class="poll-container">
                <div class="poll-question-title">QUESTION 2</div>
                <div class='poll-question'>How about a few more personal details...
                    <div class="poll-choice-container flex flex-col">
                        <div class="input-container">
                            <label for="colorInput" class="form-label">Favourite Colour:</label>
                            <input id="colorInput" type="color" class="form-control form-control-color" value="#563d7c" title="Choose your fave colour"> 
                        </div>
                        <div class="input-container">
                            <label for="fav_drink">Favourite Alcoholic Drink:</label>
                            <select id="fav-drink" class="form-select" name="fav_drink">
                                {% for drink in drinks %}
                                <option value="{{ drink.img }}" data-img="{% get_media_prefix %}{{ drink.img }}">{{ drink.drink }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="input-container">
                            <label for="fav_animal">Spirit Animal:</label>
                            <select id="animal" class="form-select" name="fav_animal">
                                {% for animal in animals %}
                                <option value="{{ animal.img }}" data-img="{% get_media_prefix %}{{ animal.img }}">{{ animal.animal }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- <div class="input-container">
                            <label for="picture">Mug Shot:</label>
                            <input id="profile-pic" type="file" name="picture">
                        </div> -->
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-prev btn-warning">Previous</button>
                        <button class="btn btn-next btn-primary">Next</button>
                    </div>    
                </div>
            </div>

            <div class="poll-container">
                <div class="poll-question-title">QUESTION 3</div>
                <div class='poll-question'>And of course, your mugshot.
                    <div class="poll-choice-container flex flex-col">
                        <div class="input-container">
                            <video id="video" width="200" height="200"></video>
                            <canvas id="canvas"></canvas>
                        </div>
                        <div class="btn-container">
                            <button id="add-photo" class="btn btn-info">Add a Mugshot</button>
                            <button id="take-photo" class="btn btn-danger">Take Photo</button>
                        </div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-prev btn-warning">Previous</button>
                        <button class="btn btn-next btn-primary">Next</button>
                    </div>    
                </div>
            </div>

            {% for question in questions %}
            <div id="q{{question.id}}" class="poll-container">
                <div class="poll-question-title">QUESTION {{question.position|add:"4"}}</div>
                <div class='poll-question'>{{ question.q_text }}
                    {% if question.image %}
                    <div class="poll-img-container inline">
                        <img class="poll-img" src="{{ question.image.url }}">
                    </div>
                    {% endif %}
                    <div class="poll-choice-container flex flex-col">
                        {% for choice in question.choices.all %}
                        <div class="choice flex left-just">
                            {% if question.type == 'checkbox' %}
                            <input class="form-check-input" type="checkbox" value="{{choice.choice_text}}" name="q{{question.id}}" data-question="{{question.id}}" data-choice="{{choice.id}}">
                            {% else %}
                            <input class="form-check-input" type="radio" value="{{ choice.choice_text }}" id="{{ choice.id }}" name="q{{question.id}}" data-question="{{question.id}}" data-choice="{{choice.id}}" data-img="{% get_media_prefix %}{{choice.image}}">
                            {% endif %}
                            <label for="{{choice.id}}">{{choice.choice_text}}</label>
                        </div>
                        {% endfor %}
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-prev btn-warning">Previous</button>
                        <button class="btn btn-next btn-primary">Next</button>
                    </div> 
                </div>
            </div>
            {% endfor %}

            <div class="poll-container">
                <div class="poll-question-title">QUESTION 10</div>
                <div class='poll-question'>Is there anything else you'd like to tell the host?
                    <div class="poll-choice-container flex flex-col">
                        <div class="input-container">
                            <textarea id="comments" name="comments" placeholder="What's on your mind?" rows="5" cols="33"></textarea>
                        </div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-prev btn-warning">Previous</button>
                        <button id="submit-btn" class="btn btn-submit btn-info">Submit</button>
                    </div>
                </div>
            </div>

            <div class="poll-container">
                <div class="poll-question-title large">Thank You!</div>
                <div class='poll-question'>
                    Your House Pass is complete and your host will be in touch shortly. 
                    <br><br> 
                    In the meantime please enjoy these other creations brought to you by Davis Innovations Inc.:
                    <br><br>
                    <a href="https://project-red-rover.herokuapp.com/">Project Red Rover</a>
                    <br>
                    <a href="https://shmurdle-uu5e7.ondigitalocean.app/">Shmurdle</a>
                    <br>
                    <a href="https://openprocessing.org/user/272264?view=sketches">Creative Coding</a>

                </div>
            </div>

        </div>
    </div>
</div>

{% endblock %}
